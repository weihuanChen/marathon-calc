# 马拉松配速计算器：动态仪表盘技术文档

## 概述 (Project Overview)

本项目旨在创建一个交互式、视觉友好的马拉松配速计算器网站。其核心创新点在于采用类似于 **Apple Watch 运动圆环 (Activity Rings)** 的设计理念来直观展示距离和时间，并通过动态色彩和指标来突出显示计算出的配速。

**目标:** 提供一个精确、快速、具有视觉吸引力的工具，帮助跑者规划训练和比赛策略。

## UI/UX 设计：动态仪表盘 (Dynamic Dashboard)

网站整体色调采用**轻松、活跃**的运动风格（如柠檬绿 `#a3e635`、天空蓝 `#3b82f6`），并确保仪表盘指示器具有**高对比度**。

### 核心视觉组件

仪表盘由三个主要指标构成，它们实时联动，互相反馈计算结果。

#### 1. 距离圆环 (Distance Ring)

- **颜色:** **鲜亮绿色**（`#4ade80`），象征完成里程碑。
- **数据源:** 用户输入的或计算出的总距离 (以 `km` 或 `mi` 为单位)。
- **视觉效果:**
  - 圆环的填充进度 (Fill Percentage) 基于当前距离占**最大预设距离 (50 km)** 的百分比。
  - 使用 **Framer Motion** 控制 SVG 的 `stroke-dashoffset` 属性，实现平滑、动态的填充动画。
  - 圆环中心显示精确的距离数值（例如：`42.195 km`）。

#### 2. 时间圆环 (Time Ring)

- **颜色:** **活力蓝色**（`#3b82f6`），象征持续性和目标时间。
- **数据源:** 用户输入的或计算出的总时间 (H:M:S)。
- **视觉效果:**
  - 圆环的填充进度基于当前时间占**最大预设时间 (5 小时)** 的百分比。
  - 同样通过 Framer Motion 实现平滑的填充动画。
  - 圆环中心显示格式化的时间（例如：`03:30:00`）。

#### 3. 配速指示器 (Pace Indicator)

配速作为计算的核心输出，采用**动态数字显示**和**色彩强度条**来突出其状态。

- **数字显示:**
  - 使用**最大、最醒目的字体**展示格式化后的配速（例如：`4'30" / km`）。
  - 在计算结果更新时，使用 Framer Motion 进行数字的平滑缩放/过渡动画。
- **色彩强度条 (速度心率图概念):**
  - 设计一个**水平渐变色条**（从绿到橙）。
  - 根据计算出的配速（秒/公里），将其**归一化**到一个范围（例如：慢速 7'00"/km 到快速 3'00"/km）。
  - 配速越慢，颜色偏向**绿色**（慢/轻松）；配速越快，颜色偏向**橙色**（快/高强度）。
  - 使用一个小的**指示箭头或填充块**实时标记当前配速在色条上的位置，直观展示速度的“强度”。

## 核心功能实现 (Core Functionality Implementation)

### 1. 多种计算模式 (Multiple Calculation Modes)

用户可以在三种计算模式之间切换，未使用的输入字段将被禁用并高亮显示为输出结果：

| **模式名称**            | **输入项 (Input)**            | **计算项 (Output)** |
| ----------------------- | ----------------------------- | ------------------- |
| **算配速** (`pace`)     | 距离 (Distance) + 时间 (Time) | 配速 (Pace)         |
| **算时间** (`time`)     | 距离 (Distance) + 配速 (Pace) | 时间 (Time)         |
| **算距离** (`distance`) | 时间 (Time) + 配速 (Pace)     | 距离 (Distance)     |

### 2. 配速转换与预设距离 (Unit Conversion and Presets)

- **单位转换:** 提供切换按钮，实现**公制 (km/min)** 和 **英制 (mi/min)** 之间的实时配速转换和距离单位切换。
- **预设距离:** 提供 5K, 10K, 半马, 全马, 50K 等按钮，用户点击即可快速填充对应的标准距离，减少手动输入。

### 3. 分段配速计算 (Split Pace Calculation)

- 在仪表盘下方展示一个简洁的表格。
- 根据计算出的**平均配速**和**总距离**，自动计算并列出每**一公里或一英里**的分段信息。
- **表格内容:**
  - 分段序号 (Split #)
  - 该分段用时 (Pace per Split)
  - 累积时间 (Cumulative Time) - 方便跑者在比赛中对照手表时间。

### 4. 技术栈 (Technology Stack)

| **领域** | **技术**        | **描述**                                                     |
| -------- | --------------- | ------------------------------------------------------------ |
| **框架** | React (Next.js) | 构建高效、组件化的前端应用。                                 |
| **样式** | Tailwind CSS    | 提供高度灵活的原子化 CSS 类，确保响应式设计和简洁美观的 UI。 |
| **动画** | Framer Motion   | 实现圆环、数字和指示条的复杂、高性能和流畅的动态效果。       |
| **图标** | Lucide React    | 提供简洁、现代的图标，增强用户体验。                         |

### 5.多语言架构 i18n

使用 Next.js最佳实践的 语言子路径，构建SEO友好的多语言页面模型，主要语言为英语，次要则为法、西、中 （简体）三种语言